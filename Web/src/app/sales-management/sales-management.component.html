<app-nav-admin></app-nav-admin>
<div class="mt-3 text-center">
    <h2>HOT SALES</h2>
    <div *ngIf="add" id="add" class="row mt-3 ">
        <div *ngFor="let flight of sales; let i= index" class="col-sm-6 mt-1">
                <div class="card ">
                    <div class="card-body ">
                        <h5 class="card-title">{{flight.From}} &#8594; {{flight.To}}</h5>
                        <p class="card-text">Stops: {{flight.scales}}</p>
                        <p class="card-text">Flight ID {{flight.idFlight}}</p>
                        <p class="card-text">With -{{flight.Discount}}% off</p>
                        <div class="col-auto text-center">
                            <button type="button" class="btn btn-outline-primary" (click)="editPromo(i,false)">Edit</button>
                            <button type="button" class="btn btn-danger offset-sm-1" (click)="deletePromo(i)">Delete</button>
                            <div *ngIf="edit" class="mt-3">
                                <form [formGroup]="form" (submit)="editPromo(i, true)">
                                    <div class="form-floating mb-1">
                                        <input formControlName="From"  type="From" class="form-control" id="from" placeholder="From">
                                        <label for="floatingInput">From</label>
                                    </div>
                                    <div required class="form-floating mb-1">
                                        <input formControlName="To" type="To" class="form-control" id="to" placeholder="To">
                                        <label for="floatingInput">To</label>
                                    </div>
                                    <div required class="form-floating mb-1">
                                        <input formControlName="idFlight" type="idFlight" class="form-control" id="idFlight" placeholder="idFlight">
                                        <label for="floatingInput">Flight ID</label>
                                    </div>
                                    <div  required class="form-floating mb-3">
                                        <input formControlName="Discount" type="Discount" class="form-control" id="discount" placeholder="Discount">
                                        <label for="floatingInput">Discount %</label>
                                    </div>
                                    <button class="btn btn-lg btn-light btn-block" >Confirm</button>
                                </form>
                            </div>

                            
                        </div>    
                    </div>
                </div>
        </div>
    </div>

    <div class="text-center mt-5  justify-content-center mx-auto col-4 gap-2">
        <form [formGroup]="form" (submit)="addPromo()">
            <div class="form-floating mb-1">
                <input formControlName="From"  type="From" class="form-control" id="from" placeholder="From">
                <label for="floatingInput">From</label>
            </div>
            <div required class="form-floating mb-1">
                <input formControlName="To" type="To" class="form-control" id="to" placeholder="To">
                <label for="floatingInput">To</label>
            </div>
            <div required class="form-floating mb-1">
                <input formControlName="idFlight" type="idFlight" class="form-control" id="idFlight" placeholder="idFlight">
                <label for="floatingInput">Flight ID</label>
            </div>
            <div  required class="form-floating mb-3">
                <input formControlName="Discount" type="Discount" class="form-control" id="discount" placeholder="Discount">
                <label for="floatingInput">Discount %</label>
            </div>
            <button class="btn btn-lg btn-primary btn-block" >Add Promotion</button>
        </form>
    </div>

</div>